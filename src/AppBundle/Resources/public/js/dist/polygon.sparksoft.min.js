var SparkSoft=function(t){function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=5)}([function(t,n,e){"use strict";n.__esModule=!0;var o=e(1),i=function(){function t(t){this.point=t,this.planets=[],this.sun=null,this.sentinelOrbitDistance=o.GetRandomArbitrary(100,20)}return t}();n.System=i},function(t,n,e){"use strict";function o(t,n,e){void 0===n&&(n=0),void 0===e&&(e=!0);var o=Math.random()*(t-n)+n;return e?Math.floor(o):o}function i(t,n){return new a.Vertex((t.point.x+t.radius)*Math.cos(n),(t.point.y+t.radius)*Math.sin(n))}function r(t,n){return new a.Vertex(t*Math.cos(n),t*Math.sin(n))}function s(){return"rgb("+o(256)+","+o(256)+","+o(256)+")"}n.__esModule=!0;var a=e(9);n.GetRandomArbitrary=o,n.DistanceBetweenTwoPoints=function(t,n){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))},n.GetVertexFromPolygonAndAngle=i,n.GetVertexFromRadiusAndAngle=r,n.GetRandomColor=s},function(t,n,e){"use strict";n.__esModule=!0;var o=function(){function t(t,n){this.x=t,this.y=n}return t}();n.Point=o},function(t,n,e){"use strict";n.__esModule=!0;!function(t){t[t.ClockWise=1]="ClockWise",t[t.CounterClockwise=-1]="CounterClockwise"}(n.Direction||(n.Direction={}))},function(t,n,e){"use strict";n.__esModule=!0;var o=function(){function t(t,n){this.origin=t,this.radius=n}return t}();n.Circle=o},function(t,n,e){"use strict";n.__esModule=!0;var t,o=e(6);t.exports=o.App},function(t,n,e){"use strict";n.__esModule=!0;var o=e(7),i=function(){function t(t){var n=this;this.si=-1,this.loadHandler=function(){if(n.canvasElement=document.getElementById(n.canvasId),!n.canvasElement)return console.warn("No canvas element found.");n.resize(function(){n.game=new o.GameService(n.canvasElement,8,3,3)})},this.resize=function(t){void 0===t&&(t=null),n.si>-1&&clearTimeout(n.si),n.si=setTimeout(function(){n.canvasElement.width=document.body.clientWidth,n.canvasElement.height=window.innerHeight,t&&null!=t&&t()},400)},this.canvasId=t,window.addEventListener("load",this.loadHandler),window.addEventListener("resize",this.resize)}return t}();n.App=i},function(t,n,e){"use strict";n.__esModule=!0;var o=e(8),i=e(1),r=e(0),s=e(2),a=e(10),c=e(3),u=e(11),l=function(){function t(t,n,e,o,i,r){void 0===n&&(n=10),void 0===e&&(e=10),void 0===o&&(o=0),void 0===i&&(i=30),void 0===r&&(r=Date.now());var s=this;this.canvas=t,this.initialSystemCount=n,this.initialPlanetCount=e,this.inception=o,this.fps=i,this.then=r,this.loop=function(){requestAnimationFrame(s.loop),s.update(),s.draw()},this.recursiveClear=function(t){s.ctx.save(),s.ctx.translate(t.orbit.origin.x,t.orbit.origin.y);var n=2*t.radius;s.ctx.clearRect(Math.floor(t.point.x-n),Math.floor(t.point.y-n),Math.ceil(2*n),Math.ceil(2*n)),t.planets.length>0&&t.planets.forEach(s.recursiveClear),s.ctx.restore()},this.interval=1e3/i,this.ctx=this.canvas.getContext("2d"),this.setup()}return t.prototype.setup=function(){var t=this;this.systems=[],this.createSystems(),this.systems.forEach(function(n){t.createPlanets(n,i.GetRandomArbitrary(t.inception+1,1))}),this.loop()},t.prototype.createSystems=function(){for(var t=i.GetRandomArbitrary(this.initialSystemCount,1),n=0;n<t;n++)this.createSystem()},t.prototype.createSystem=function(){var t=new s.Point(i.GetRandomArbitrary(this.canvas.offsetWidth),i.GetRandomArbitrary(this.canvas.offsetHeight)),n=i.GetRandomArbitrary(100,20),e=this.ctx.createRadialGradient(t.x,t.y,i.GetRandomArbitrary(n/2),t.x,t.y,n);e.addColorStop(0,"yellow"),e.addColorStop(1,"orange");var o=new u.Sun(t,n,e);console.log("System point: "+t.x+", "+t.y);var a=new r.System(t);a.sun=o,this.systems.push(a)},t.prototype.createPlanets=function(t,n){void 0===n&&(n=0);for(var e=i.GetRandomArbitrary(this.initialPlanetCount+1,0),r=0;r<e;r++){var s=t instanceof o.Polygon?t.radius+.5*t.radius:t.sun.radius+.5*t.sun.radius,a=void 0,c=void 0;c=a=t.planets.length>0?t.planets[t.planets.length-1].orbit.radius+s:s,this.createPlanet(t,i.GetRandomArbitrary(c,a)),n>0&&t.planets.length>0&&this.createPlanets(t.planets[t.planets.length-1],n-1)}},t.prototype.createPlanet=function(t,n){var e=i.GetRandomArbitrary(2*Math.PI),r=new a.Orbit(t.point,n,e,0==i.GetRandomArbitrary(2,0)?c.Direction.ClockWise:c.Direction.CounterClockwise,i.GetRandomArbitrary(100)/1e4),u=new s.Point(r.radius*Math.cos(i.GetRandomArbitrary(r.angle)),r.radius*Math.sin(i.GetRandomArbitrary(r.angle))),l=new o.Polygon(u,i.GetRandomArbitrary(.2*r.radius),i.GetRandomColor(),i.GetRandomArbitrary(.1,0,!1),0==i.GetRandomArbitrary(2,0)?c.Direction.ClockWise:c.Direction.CounterClockwise);console.log(l.color),this.populateWithAngles(l),l.orbit=r,console.log(l),t.planets.push(l)},t.prototype.populateWithAngles=function(t){for(var n=i.GetRandomArbitrary(10,3),e=0,o=0;e<n;e++,o+=2*Math.PI/n)t.add(o)},t.prototype.update=function(){var t=this;this.systems.forEach(function(n){t.updateSystemInception(n)})},t.prototype.updateSystemInception=function(t){var n=this;t.planets.forEach(function(t){t.angles=t.angles.map(function(n){return(t.rotationDirection*t.rotationSpeed+n)%(2*Math.PI)}),t.orbit.angle=(t.orbit.angle+t.orbit.aDirection*t.orbit.speed)%(2*Math.PI),t.point.x=t.orbit.radius*Math.cos(t.orbit.angle),t.point.y=t.orbit.radius*Math.sin(t.orbit.angle);var e=i.DistanceBetweenTwoPoints(t.point,new s.Point(0,0));Math.abs(e-t.orbit.radius)>1&&console.warn("\n                    Radius different: Calc "+e+" != Origin Radius "+t.orbit.radius+", \n\n                    Planet point: "+t.point.x+", "+t.point.y+", \n\n                    Planet angle: "+t.orbit.angle+", \n\n                "),t.planets.length>0&&n.updateSystemInception(t)})},t.prototype.draw=function(){var t=this,n=Date.now(),e=n-this.then;e>this.interval&&(this.then=n-e%this.interval,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.systems.forEach(function(n){t.drawCircle(n.sun),t.systemInception(n)}))},t.prototype.systemInception=function(t){var n=this;this.ctx.save(),this.ctx.translate(t.point.x,t.point.y),t.planets.forEach(function(t){n.drawOrbit(t.orbit),n.drawPolygon(t),t.planets.length>0&&n.systemInception(t)}),this.ctx.restore()},t.prototype.drawOrbit=function(t){this.ctx.beginPath(),this.ctx.arc(0,0,t.radius,0,2*Math.PI),this.ctx.strokeStyle="#d3d3d3",this.ctx.stroke()},t.prototype.drawPolygon=function(t){var n=this;this.ctx.save(),this.ctx.translate(t.point.x,t.point.y),this.ctx.beginPath();var e=i.GetVertexFromRadiusAndAngle(t.radius,t.angles[0]);this.ctx.moveTo(e.x,e.y),t.angles.forEach(function(e,o){if(0!==o){var r=i.GetVertexFromRadiusAndAngle(t.radius,e);n.ctx.lineTo(r.x,r.y)}}),this.ctx.closePath(),this.ctx.fillStyle=t.color,this.ctx.fill(),this.ctx.restore()},t.prototype.drawCircle=function(t){this.ctx.beginPath(),this.ctx.arc(t.origin.x,t.origin.y,t.radius,0,2*Math.PI),this.ctx.fillStyle=t.color,this.ctx.fill()},t}();n.GameService=l},function(t,n,e){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();n.__esModule=!0;var i=e(0),r=e(3),s=function(t){function n(n,e,o,i,s){void 0===i&&(i=1),void 0===s&&(s=r.Direction.ClockWise);var a=t.call(this,n)||this;return a.point=n,a.radius=e,a.color=o,a.rotationSpeed=i,a.rotationDirection=s,a.angles=[],a}return o(n,t),n.prototype.add=function(t){this.angles.push(t)},n}(i.System);n.Polygon=s},function(t,n,e){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();n.__esModule=!0;var i=e(2),r=function(t){function n(n,e){return t.call(this,n,e)||this}return o(n,t),n}(i.Point);n.Vertex=r},function(t,n,e){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();n.__esModule=!0;var i=e(4),r=function(t){function n(n,e,o,i,r){var s=t.call(this,n,e)||this;return s.angle=o,s.aDirection=i,s.speed=r,s}return o(n,t),n}(i.Circle);n.Orbit=r},function(t,n,e){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();n.__esModule=!0;var i=e(4),r=function(t){function n(n,e,o){var i=t.call(this,n,e)||this;return i.color=o,i}return o(n,t),n}(i.Circle);n.Sun=r}]);
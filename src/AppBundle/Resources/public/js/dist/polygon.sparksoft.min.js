var SparkSoft=function(t){function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=3)}([function(t,n,e){"use strict";n.__esModule=!0;var i=e(1),o=function(){function t(t){this.point=t,this.planets=[],this.sentinelOrbitDistance=i.GetRandomArbitrary(100,20)}return t}();n.System=o},function(t,n,e){"use strict";function i(t,n,e){void 0===n&&(n=0),void 0===e&&(e=!0);var i=Math.random()*(t-n)+n;return e?Math.floor(i):i}function o(t,n){return new a.Vertex((t.point.x+t.radius)*Math.cos(n),(t.point.y+t.radius)*Math.sin(n))}function r(t,n){return new a.Vertex(t*Math.cos(n),t*Math.sin(n))}function s(){return"rgb("+i(256)+","+i(256)+","+i(256)+")"}n.__esModule=!0;var a=e(7);n.GetRandomArbitrary=i,n.DistanceBetweenTwoPoints=function(t,n){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))},n.GetVertexFromPolygonAndAngle=o,n.GetVertexFromRadiusAndAngle=r,n.GetRandomColor=s},function(t,n,e){"use strict";n.__esModule=!0;var i=function(){function t(t,n){this.x=t,this.y=n}return t}();n.Point=i},function(t,n,e){"use strict";n.__esModule=!0;var t,i=e(4);t.exports=i.App},function(t,n,e){"use strict";n.__esModule=!0;var i=e(5),o=function(){function t(t){var n=this;this.si=-1,this.loadHandler=function(){if(n.canvasElement=document.getElementById(n.canvasId),!n.canvasElement)return console.warn("No canvas element found.");n.resize(function(){n.game=new i.GameService(n.canvasElement,3,3,1)})},this.resize=function(t){void 0===t&&(t=null),n.si>-1&&clearTimeout(n.si),n.si=setTimeout(function(){n.canvasElement.width=window.innerWidth,n.canvasElement.height=window.innerHeight,t&&null!=t&&t()},400)},this.canvasId=t,window.addEventListener("load",this.loadHandler),window.addEventListener("resize",this.resize)}return t}();n.App=o},function(t,n,e){"use strict";n.__esModule=!0;var i=e(6),o=e(1),r=e(0),s=e(2),a=e(8),c=function(){function t(t,n,e,i,o,r){void 0===n&&(n=10),void 0===e&&(e=10),void 0===i&&(i=0),void 0===o&&(o=30),void 0===r&&(r=Date.now());var s=this;this.canvas=t,this.initialSystemCount=n,this.initialPlanetCount=e,this.inception=i,this.fps=o,this.then=r,this.loop=function(){requestAnimationFrame(s.loop),s.update(),s.draw()},this.recursiveClear=function(t){s.ctx.save(),s.ctx.translate(t.orbit.origin.x,t.orbit.origin.y);var n=2*t.radius;s.ctx.clearRect(Math.floor(t.point.x-n),Math.floor(t.point.y-n),Math.ceil(2*n),Math.ceil(2*n)),t.planets.length>0&&t.planets.forEach(s.recursiveClear),s.ctx.restore()},this.interval=1e3/o,this.ctx=this.canvas.getContext("2d"),this.setup()}return t.prototype.setup=function(){var t=this;this.systems=[],this.createSystems(),this.systems.forEach(function(n){t.createPlanets(n,t.inception)}),this.loop()},t.prototype.createSystems=function(){for(var t=0;t<this.initialSystemCount;t++)this.createSystem()},t.prototype.createSystem=function(){var t=new s.Point(o.GetRandomArbitrary(this.canvas.offsetWidth),o.GetRandomArbitrary(this.canvas.offsetHeight));console.log("System point: "+t.x+", "+t.y),this.systems.push(new r.System(t))},t.prototype.createPlanets=function(t,n){void 0===n&&(n=0);for(var e=o.GetRandomArbitrary(this.initialPlanetCount+1,1),r=0;r<e;r++){var s=100,a=80;t instanceof i.Polygon&&(console.log("We are in"),s=t.radius+t.radius/2,a=t.radius+1),this.createPlanet(t,s,a),n>0&&t.planets.length>0&&this.createPlanets(t.planets[t.planets.length-1],n-1)}},t.prototype.createPlanet=function(t,n,e){t.sentinelOrbitDistance+=o.GetRandomArbitrary(n,e);var r=o.GetRandomArbitrary(2*Math.PI),c=new a.Orbit(t.point,t.sentinelOrbitDistance,r,0==o.GetRandomArbitrary(2),o.GetRandomArbitrary(100)/1e4),u=new s.Point(c.radius*Math.cos(o.GetRandomArbitrary(c.angle)),c.radius*Math.sin(o.GetRandomArbitrary(c.angle))),l=new i.Polygon(u,o.GetRandomArbitrary(.2*c.radius),o.GetRandomColor());console.log(l.color),this.populateWithAngles(l),l.orbit=c,console.log(l),t.planets.push(l)},t.prototype.populateWithAngles=function(t){for(var n=o.GetRandomArbitrary(10,3),e=0,i=0;e<n;e++,i+=2*Math.PI/n)t.add(i)},t.prototype.update=function(){var t=this;this.systems.forEach(function(n){t.updateSystemInception(n)})},t.prototype.updateSystemInception=function(t){var n=this;t.planets.forEach(function(t){t.orbit.angle=(t.orbit.angle+(t.orbit.aDirection?t.orbit.speed:-t.orbit.speed))%(2*Math.PI),t.point.x=t.orbit.radius*Math.cos(t.orbit.angle),t.point.y=t.orbit.radius*Math.sin(t.orbit.angle);var e=o.DistanceBetweenTwoPoints(t.point,new s.Point(0,0));Math.abs(e-t.orbit.radius)>1&&console.warn("\n                    Radius different: Calc "+e+" != Origin Radius "+t.orbit.radius+", \n\n                    Planet point: "+t.point.x+", "+t.point.y+", \n\n                    Planet angle: "+t.orbit.angle+", \n\n                "),t.planets.length>0&&n.updateSystemInception(t)})},t.prototype.draw=function(){var t=this,n=Date.now(),e=n-this.then;e>this.interval&&(this.then=n-e%this.interval,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.systems.forEach(function(n){t.systemInception(n)}))},t.prototype.orbitClear=function(t){this.ctx.globalCompositeOperation="destination-out",this.ctx.arc(0,0,t.radius+1,0,2*Math.PI),this.ctx.fill()},t.prototype.systemInception=function(t){var n=this;this.ctx.save(),this.ctx.translate(t.point.x,t.point.y),t.planets.forEach(function(t){n.drawOrbit(t.orbit),n.drawPolygon(t),t.planets.length>0&&n.systemInception(t)}),this.ctx.restore()},t.prototype.drawOrbit=function(t){this.ctx.beginPath(),this.ctx.arc(0,0,t.radius,0,2*Math.PI),this.ctx.strokeStyle="black",this.ctx.stroke()},t.prototype.drawPolygon=function(t){var n=this;this.ctx.save(),this.ctx.translate(t.point.x,t.point.y),this.ctx.beginPath();var e=o.GetVertexFromRadiusAndAngle(t.radius,t.angles[0]);this.ctx.moveTo(e.x,e.y),t.angles.forEach(function(e,i){if(0!==i){var r=o.GetVertexFromRadiusAndAngle(t.radius,e);n.ctx.lineTo(r.x,r.y)}}),this.ctx.closePath(),this.ctx.fillStyle=t.color,this.ctx.fill(),this.ctx.restore()},t}();n.GameService=c},function(t,n,e){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function i(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();n.__esModule=!0;var o=e(0),r=function(t){function n(n,e,i,o,r){void 0===o&&(o=10),void 0===r&&(r=!0);var s=t.call(this,n)||this;return s.point=n,s.radius=e,s.color=i,s.rotationSpeed=o,s.rotationDirection=r,s.angles=[],s}return i(n,t),n.prototype.add=function(t){this.angles.push(t)},n}(o.System);n.Polygon=r},function(t,n,e){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function i(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();n.__esModule=!0;var o=e(2),r=function(t){function n(n,e){return t.call(this,n,e)||this}return i(n,t),n}(o.Point);n.Vertex=r},function(t,n,e){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function i(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();n.__esModule=!0;var o=e(9),r=function(t){function n(n,e,i,o,r){var s=t.call(this,n,e)||this;return s.angle=i,s.aDirection=o,s.speed=r,s}return i(n,t),n}(o.Circle);n.Orbit=r},function(t,n,e){"use strict";n.__esModule=!0;var i=function(){function t(t,n){this.origin=t,this.radius=n}return t}();n.Circle=i}]);
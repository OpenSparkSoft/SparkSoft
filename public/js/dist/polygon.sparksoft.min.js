var SparkSoft=function(t){function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var e={};return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=5)}([function(t,n,e){"use strict";n.__esModule=!0;var i=e(1),r=function(){function t(t){this.point=t,this.planets=[],this.sun=null,this.sentinelOrbitDistance=i.GetRandomArbitrary(100,20)}return t}();n.System=r},function(t,n,e){"use strict";function i(t,n,e){void 0===n&&(n=0),void 0===e&&(e=!0);var i=Math.random()*(t-n)+n;return e?Math.floor(i):i}function r(t,n){return new c.Vertex((t.point.x+t.radius)*Math.cos(n),(t.point.y+t.radius)*Math.sin(n))}function o(t,n){return new c.Vertex(t*Math.cos(n),t*Math.sin(n))}function a(){return"rgb("+i(256)+","+i(256)+","+i(256)+")"}function s(){return"rgb("+i(197,137)+","+i(176,151)+","+i(176,153)+")"}n.__esModule=!0;var c=e(9);n.GetRandomArbitrary=i,n.DistanceBetweenTwoPoints=function(t,n){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))},n.GetVertexFromPolygonAndAngle=r,n.GetVertexFromRadiusAndAngle=o,n.GetRandomColor=a,n.GetRandomPlanetColor=s},function(t,n,e){"use strict";n.__esModule=!0;var i=function(){function t(t,n){this.x=t,this.y=n}return t}();n.Point=i},function(t,n,e){"use strict";n.__esModule=!0;!function(t){t[t.ClockWise=1]="ClockWise",t[t.CounterClockwise=-1]="CounterClockwise"}(n.Direction||(n.Direction={}))},function(t,n,e){"use strict";n.__esModule=!0;var i=function(){function t(t,n){this.origin=t,this.radius=n}return t}();n.Circle=i},function(t,n,e){"use strict";n.__esModule=!0;var t,i=e(6);t.exports=i.App},function(t,n,e){"use strict";n.__esModule=!0;var i=e(7),r=function(){function t(t){var n=this;this.si=-1,this.loadHandler=function(){if(n.canvasElement=document.getElementById(n.canvasId),!n.canvasElement)return console.warn("No canvas element found.");n.resize(function(){n.game=new i.GameService(n.canvasElement)})},this.resize=function(t){void 0===t&&(t=null),n.si>-1&&clearTimeout(n.si),n.si=setTimeout(function(){n.canvasElement.width=document.body.clientWidth,n.canvasElement.height=document.body.clientHeight,t&&null!=t&&t()},400)},this.canvasId=t,window.addEventListener("load",this.loadHandler),window.addEventListener("resize",this.resize)}return t}();n.App=r},function(t,n,e){"use strict";n.__esModule=!0;var i=e(8),r=e(1),o=e(0),a=e(2),s=e(10),c=e(3),u=e(11),l=function(){function t(t,n,e,i,r){void 0===n&&(n=3),void 0===e&&(e=3),void 0===i&&(i=30),void 0===r&&(r=Date.now());var o=this;this.canvas=t,this.initialPlanetCount=n,this.inception=e,this.fps=i,this.then=r,this.loop=function(){requestAnimationFrame(o.loop),o.update(),o.draw()},this.recursiveClear=function(t){o.ctx.save(),o.ctx.translate(t.orbit.origin.x,t.orbit.origin.y);var n=2*t.radius;o.ctx.clearRect(Math.floor(t.point.x-n),Math.floor(t.point.y-n),Math.ceil(2*n),Math.ceil(2*n)),t.planets.length>0&&t.planets.forEach(o.recursiveClear),o.ctx.restore()},this.interval=1e3/i,this.ctx=this.canvas.getContext("2d"),this.setup()}return t.prototype.setup=function(){var t=this;this.systems=[],this.createSystems(),this.systems.forEach(function(n){t.createPlanets(n,r.GetRandomArbitrary(t.inception,1))}),this.loop()},t.prototype.createSystems=function(){var t=new a.Point(r.GetRandomArbitrary(.25*this.canvas.width),r.GetRandomArbitrary(.25*this.canvas.height)),n=new a.Point(r.GetRandomArbitrary(this.canvas.width,.75*this.canvas.width),r.GetRandomArbitrary(.75*this.canvas.height,.25*this.canvas.height)),e=new a.Point(r.GetRandomArbitrary(.25*this.canvas.width),r.GetRandomArbitrary(.85*this.canvas.height,.65*this.canvas.height));this.createSystem(t),this.createSystem(n),this.createSystem(e)},t.prototype.createSystem=function(t){var n=r.GetRandomArbitrary(.1*this.canvas.width,.05*this.canvas.width),e=this.ctx.createRadialGradient(t.x,t.y,r.GetRandomArbitrary(n/2),t.x,t.y,n);e.addColorStop(0,"#c5b099"),e.addColorStop(1,"#8997aa");var i=new u.Sun(t,n,e);console.log("System point: "+t.x+", "+t.y);var a=new o.System(t);a.sun=i,this.systems.push(a)},t.prototype.createPlanets=function(t,n){void 0===n&&(n=0);for(var e=r.GetRandomArbitrary(this.initialPlanetCount+1,1),o=0;o<e;o++){var a=void 0,s=void 0;s=a=t.planets.length>0?t.planets[t.planets.length-1].orbit.radius+.3*t.planets[t.planets.length-1].orbit.radius:t instanceof i.Polygon?t.radius+.3*t.radius:t.sun.radius+.3*t.sun.radius;var c=r.GetRandomArbitrary(s,a);c<5&&(c=5),this.createPlanet(t,c),n>0&&t.planets.length>0&&this.createPlanets(t.planets[t.planets.length-1],n-1)}},t.prototype.createPlanet=function(t,n){if(!(t.planets.length>0&&Math.abs(n-t.planets[t.planets.length-1].orbit.radius)<5)){var e=r.GetRandomArbitrary(2*Math.PI),o=new s.Orbit(t.point,n,e,0==r.GetRandomArbitrary(2,0)?c.Direction.ClockWise:c.Direction.CounterClockwise,r.GetRandomArbitrary(100)/1e4),u=new a.Point(o.radius*Math.cos(r.GetRandomArbitrary(o.angle)),o.radius*Math.sin(r.GetRandomArbitrary(o.angle))),l=new i.Polygon(u,r.GetRandomArbitrary(.2*o.radius,5),r.GetRandomPlanetColor(),r.GetRandomArbitrary(.1,0,!1),0==r.GetRandomArbitrary(2,0)?c.Direction.ClockWise:c.Direction.CounterClockwise);this.populateWithAngles(l),l.orbit=o,t.planets.push(l)}},t.prototype.populateWithAngles=function(t){for(var n=r.GetRandomArbitrary(10,3),e=0,i=0;e<n;e++,i+=2*Math.PI/n)t.add(i)},t.prototype.update=function(){var t=this;this.systems.forEach(function(n){t.updateSystemInception(n)})},t.prototype.updateSystemInception=function(t){var n=this;t.planets.forEach(function(t){t.angles=t.angles.map(function(n){return(t.rotationDirection*t.rotationSpeed+n)%(2*Math.PI)}),t.orbit.angle=(t.orbit.angle+t.orbit.aDirection*t.orbit.speed)%(2*Math.PI),t.point.x=t.orbit.radius*Math.cos(t.orbit.angle),t.point.y=t.orbit.radius*Math.sin(t.orbit.angle);var e=r.DistanceBetweenTwoPoints(t.point,new a.Point(0,0));Math.abs(e-t.orbit.radius)>1&&console.warn("\n                    Radius different: Calc "+e+" != Origin Radius "+t.orbit.radius+", \n\n                    Planet point: "+t.point.x+", "+t.point.y+", \n\n                    Planet angle: "+t.orbit.angle+", \n\n                "),t.planets.length>0&&n.updateSystemInception(t)})},t.prototype.draw=function(){var t=this,n=Date.now(),e=n-this.then;e>this.interval&&(this.then=n-e%this.interval,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.systems.forEach(function(n){t.drawCircle(n.sun),t.systemInception(n)}))},t.prototype.systemInception=function(t){var n=this;this.ctx.save(),this.ctx.translate(t.point.x,t.point.y),t.planets.forEach(function(t){n.drawOrbit(t.orbit),n.drawPolygon(t),t.planets.length>0&&n.systemInception(t)}),this.ctx.restore()},t.prototype.drawOrbit=function(t){this.ctx.beginPath(),this.ctx.arc(0,0,t.radius,0,2*Math.PI),this.ctx.strokeStyle="#d3d3d3",this.ctx.stroke()},t.prototype.drawPolygon=function(t){var n=this;this.ctx.save(),this.ctx.translate(t.point.x,t.point.y),this.ctx.beginPath();var e=r.GetVertexFromRadiusAndAngle(t.radius,t.angles[0]);this.ctx.moveTo(e.x,e.y),t.angles.forEach(function(e,i){if(0!==i){var o=r.GetVertexFromRadiusAndAngle(t.radius,e);n.ctx.lineTo(o.x,o.y)}}),this.ctx.closePath(),this.ctx.fillStyle=t.color,this.ctx.fill(),this.ctx.restore()},t.prototype.drawCircle=function(t){this.ctx.beginPath(),this.ctx.arc(t.origin.x,t.origin.y,t.radius,0,2*Math.PI),this.ctx.fillStyle=t.color,this.ctx.fill()},t}();n.GameService=l},function(t,n,e){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function i(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();n.__esModule=!0;var r=e(0),o=e(3),a=function(t){function n(n,e,i,r,a){void 0===r&&(r=1),void 0===a&&(a=o.Direction.ClockWise);var s=t.call(this,n)||this;return s.point=n,s.radius=e,s.color=i,s.rotationSpeed=r,s.rotationDirection=a,s.angles=[],s}return i(n,t),n.prototype.add=function(t){this.angles.push(t)},n}(r.System);n.Polygon=a},function(t,n,e){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function i(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();n.__esModule=!0;var r=e(2),o=function(t){function n(n,e){return t.call(this,n,e)||this}return i(n,t),n}(r.Point);n.Vertex=o},function(t,n,e){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function i(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();n.__esModule=!0;var r=e(4),o=function(t){function n(n,e,i,r,o){var a=t.call(this,n,e)||this;return a.angle=i,a.aDirection=r,a.speed=o,a}return i(n,t),n}(r.Circle);n.Orbit=o},function(t,n,e){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function i(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();n.__esModule=!0;var r=e(4),o=function(t){function n(n,e,i){var r=t.call(this,n,e)||this;return r.color=i,r}return i(n,t),n}(r.Circle);n.Sun=o}]);